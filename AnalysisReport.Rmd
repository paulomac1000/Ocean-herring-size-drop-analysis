---
title: "Analiza spadku wielkości śledzia oceanicznego"
author: "Paweł Maciejewski"
date: "23 01 2020"
output:
  html_document:
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Opis problemu

Na przestrzeni ostatnich lat zauważono stopniowy spadek rozmiaru śledzia oceanicznego wyławianego w Europie. Do analizy zebrano pomiary śledzi i warunków w jakich żyją z ostatnich 60 lat. Dane były pobierane z połowów komercyjnych jednostek. W ramach połowu jednej jednostki losowo wybierano od 50 do 100 sztuk trzyletnich śledzi.

## Wnioski

TODO

## Biblioteki

```{r libraries, message=FALSE}

library(dplyr)
library(knitr)
library(pander)
library(tidyverse)

```

## Ładowanie i prezentacja danych

Dane zostana załadowane bezpośrednio z pliku csv pochodzącego ze strony z zadaniem.

```{r load, cache=TRUE}

download.file(
  "http://www.cs.put.poznan.pl/dbrzezinski/teaching/sphd/sledzie.csv",
  destfile = 'sledzie.csv'
)

data <- read.csv("sledzie.csv", header = TRUE, sep = ",", na.strings = "?") %>% rename(id = X)

```



```{r stats,include=FALSE, cache=TRUE}

colNamesConcatenated <- paste(colnames(data), sep=", ")
colCount <- ncol(data)
rowCount <- nrow(data)
noBlankRowsCount <- nrow(na.omit(data))

```

Zbiór zawiera `r colCount` kolumn i `r rowCount` wierszy. Liczba wierszy bez wartości pustych wynosi `r noBlankRowsCount`. Kolumny mają następujące nazwy: `r colNamesConcatenated`. Prezentacja pierwszych 10 wierszy:

```{r kable}

kable(head(data, 10))

```

Opis kolumn:

Nazwa | Opis
---------|--------------------------------------------
length: | długość złowionego śledzia [cm]
cfin1:  | dostępność planktonu [zagęszczenie Calanus finmarchicus gat. 1]
cfin2:  | dostępność planktonu [zagęszczenie Calanus finmarchicus gat. 2]
chel1:  | dostępność planktonu [zagęszczenie Calanus helgolandicus gat. 1]
chel2:  | dostępność planktonu [zagęszczenie Calanus helgolandicus gat. 2]
lcop1:  | dostępność planktonu [zagęszczenie widłonogów gat. 1]
lcop2:  | dostępność planktonu [zagęszczenie widłonogów gat. 2]
fbar:   | natężenie połowów w regionie [ułamek pozostawionego narybku]
recr:   | roczny narybek [liczba śledzi]
cumf:   | łączne roczne natężenie połowów w regionie [ułamek pozostawionego narybku]
totaln: | łączna liczba ryb złowionych w ramach połowu [liczba śledzi]
sst:    | temperatura przy powierzchni wody [°C]
sal:    | poziom zasolenia wody [Knudsen ppt]
xmonth: | miesiąc połowu [numer miesiąca]
nao:    | oscylacja północnoatlantycka [mb]

Wiersze w zbiorze są uporządkowane chronologicznie.

## Opis danych

Prezentacja typów kolumn:

```{r description}

glimpse(data)

```

## Podsumowanie rozkładów

```{r summary}

pander(summary(data))

```
